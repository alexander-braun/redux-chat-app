(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{1090:function(e,t,a){},1091:function(e,t,a){},1092:function(e,t,a){},1093:function(e,t,a){},1094:function(e,t,a){},1095:function(e,t,a){},1096:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(10),u=a.n(c),i=(a(21),a(22),a(23),a(24),function(e){var t=e.user,a=t.name,n=t.profile_pic,r=t.status,c=a.split(" ")[0];return s.a.createElement("div",{className:"Empty"},s.a.createElement("h1",{className:"Empty__name"},"Welcome, ",c," "),s.a.createElement("img",{src:n,alt:a,className:"Empty__img"}),s.a.createElement("p",{className:"Empty__status"},s.a.createElement("b",null,"Status:")," ",r),s.a.createElement("button",{className:"Empty__btn"},"Start a conversation"),s.a.createElement("p",{className:"Empty__info"},"Search for someone to start chatting with or go to Contacts to see who is available"))}),l=a(4),o=a(1),m=a(25),p=a(34),f=a(40),d=a(1087),v=(n=10,Array.from({length:n},(function(){return h()}))),E=d.mapKeys(v,"user_id"),_=function(e){var t={};return d.forEach(v,(function(a){var n;t[a.user_id]=Object(o.a)({},d.mapKeys((n=e,Array.from({length:n},(function(e,t){return{number:t,text:p.sentence(),is_user_msg:f.random.boolean()}}))),"number"))})),t};h(),_(10);function h(){return{name:f.name.findName(),email:f.internet.email(),profile_pic:f.internet.avatar(),status:p.sentence(),user_id:m.generate()}}var g=a(2);var y=Object(l.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return arguments.length>1&&arguments[1],e},contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;arguments.length>1&&arguments[1];return e},activeUserId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_USER_ID":return t.payload;default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_(10),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var a=t.payload,n=a.message,r=a.userId,s=e[r],c=Object.keys(s).pop()+1;return Object(o.a)({},e,Object(g.a)({},r,Object(o.a)({},s,Object(g.a)({},c,{number:c,text:n,is_user_msg:!0}))));default:return e}},typing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TYPING_VALUE":return t.payload;case"SEND_MESSAGE":return"";default:return e}}}),b=Object(l.b)(y);a(1090);var N=function(e){var t=e.user,a=t.name,n=t.status;return s.a.createElement("header",{className:"Header"},s.a.createElement("h1",{className:"Header__name"},a),s.a.createElement("p",{className:"Header__status"},n))},S=a(12),U=a(13),I=a(14),j=a(15),O=(a(1091),function(e){var t=e.message,a=t.text,n=t.is_user_msg;return s.a.createElement("span",{className:"Chat ".concat(n?"is-user-msg":"")},a)}),T=function(e){Object(j.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).scrollToBottom=function(){n.chatsRef.current.scrollTop=n.chatsRef.current.scrollHeight},n.chatsRef=s.a.createRef(),n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){return s.a.createElement("div",{className:"Chats",ref:this.chatsRef},this.props.messages.map((function(e){return s.a.createElement(O,{message:e,key:e.number})})))}}]),a}(r.Component),A=(a(1092),a(1093),function(e){var t=e.value,a=b.getState();return s.a.createElement("form",{className:"Message",onSubmit:function(e){e.preventDefault();var t=a.typing,n=a.activeUserId;b.dispatch({type:"SEND_MESSAGE",payload:{message:t,userId:n}})}},s.a.createElement("input",{className:"Message__input",onChange:function(e){b.dispatch(function(e){return{type:"SET_TYPING_VALUE",payload:e}}(e.target.value))},value:t,placeholder:"write a message"}))}),k=function(e){var t=e.activeUserId,a=b.getState(),n=a.typing,r=a.contacts[t],c=a.messages[t];return s.a.createElement("div",{className:"ChatWindow"},s.a.createElement(N,{user:r}),s.a.createElement(T,{messages:Object.values(c)}),s.a.createElement(A,{value:n}))},w=function(e){var t=e.user,a=e.activeUserId;return s.a.createElement("main",{className:"Main"},a?s.a.createElement(k,{activeUserId:a}):s.a.createElement(i,{user:t,activeUserId:a}))};a(1094);function C(e){var t=e.user_id;b.dispatch({type:"SET_ACTIVE_USER_ID",payload:t})}var D=function(e){var t=e.user,a=t.name,n=t.profile_pic,r=t.status;return s.a.createElement("div",{className:"User",onClick:C.bind(null,t)},s.a.createElement("img",{src:n,alt:a,className:"User__pic"}),s.a.createElement("div",{className:"User__details"},s.a.createElement("p",{className:"User_details-name"},a),s.a.createElement("p",{className:"User__details-status"},r)))},M=(a(1095),function(e){var t=e.contacts;return s.a.createElement("aside",{className:"Sidebar"},t.map((function(e){return s.a.createElement(D,{user:e,key:e.user_id})})))}),R=function(){var e=b.getState(),t=e.contacts,a=e.user,n=e.activeUserId;return s.a.createElement("div",{className:"App"},s.a.createElement(M,{contacts:Object.values(t)}),s.a.createElement(w,{user:a,activeUserId:n}))},G=function(){return u.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(R,null)),document.getElementById("root"))};G(),b.subscribe(G)},16:function(e,t,a){e.exports=a(1096)},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){}},[[16,1,2]]]);
//# sourceMappingURL=main.84cc8bae.chunk.js.map